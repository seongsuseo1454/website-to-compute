<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>시장 집무실 스마트미러 PRO</title>
  <link rel="stylesheet" href="./style.css"/>
  <link rel="icon" href="./public/favicon.ico"/>
</head>
<body class="theme-dark">
  <!-- 상단 고급 내비게이션 -->
  <header class="nav">
    <div class="brand">🪞 Mayor Smart Mirror Pro</div>
    <nav class="menu">
      <button data-tab="dashboard">대시보드</button>
      <button data-tab="org">조직/업무</button>
      <button data-tab="buyers">Global Connect</button>
      <button data-tab="assistant">AI 비서</button>
      <button data-tab="settings">설정</button>
    </nav>
    <div class="actions">
      <span id="roleBadge">GUEST</span>
      <button id="themeToggle" title="Theme">🌓</button>
      <button id="fullscreen" title="Fullscreen">⛶</button>
    </div>
  </header>

  <!-- 메인 -->
  <main id="app" class="container">

    <!-- 대시보드 -->
    <section id="tab-dashboard" class="tab active">
      <div class="grid">
        <div class="card col-2">
          <div class="card-head">
            <h3 id="title">시장 집무실 스마트 미러 PRO</h3>
            <button id="editTitle" class="ghost">편집</button>
          </div>
          <div class="clock">
            <div class="time"><span id="hhmm">--:--</span><span id="sec">--</span></div>
            <div class="date" id="ymd">----.--.-- (-)</div>
          </div>
          <div class="kpis">
            <div class="kpi"><div>오늘 일정</div><b id="kpiSchedule">0건</b></div>
            <div class="kpi"><div>할 일</div><b id="kpiTodos">0건</b></div>
            <div class="kpi"><div>민원/사건</div><b id="kpiIncidents">0건</b></div>
            <div class="kpi"><div>수면 점수</div><b id="kpiSleep">--</b></div>
          </div>
        </div>

        <div class="card">
          <div class="card-head">
            <h4>오늘 일정</h4>
            <button id="editAgenda" class="ghost">빠른 편집</button>
          </div>
          <textarea id="agenda" rows="8">09:30 간부회의
11:00 현장 점검
14:00 해외 바이어 화상상담</textarea>
        </div>

        <div class="card">
          <div class="card-head">
            <h4>오늘 할 일</h4>
            <button id="editTodos" class="ghost">빠른 편집</button>
          </div>
          <textarea id="todos" rows="8">시민 제안 검토
문화행사 준비</textarea>
        </div>

        <div class="card col-2">
          <div class="card-head">
            <h4>AI 비서 제물포 PRO</h4>
            <div class="right">
              <button id="downloadReport" class="ghost">리포트</button>
              <button id="printMemo" class="ghost">메모 출력</button>
            </div>
          </div>
          <div id="chatBox" class="chat"></div>
          <div class="chat-input">
            <input id="chatInput" placeholder="지시하세요... 예) 날씨/메모/긴급"/>
            <button id="sendChat">보내기</button>
          </div>
        </div>

        <div class="card">
          <div class="card-head">
            <h4>건강 관리</h4>
            <button id="refreshHealth" class="ghost">새로고침</button>
          </div>
          <div id="healthKpis" class="kpis small"></div>
        </div>

        <div class="card">
          <div class="card-head">
            <h4>지역 관리</h4>
            <button id="refreshRegion" class="ghost">새로고침</button>
          </div>
          <div id="regionKpis" class="kpis small"></div>
        </div>
      </div>
    </section>

    <!-- 조직/업무 -->
    <section id="tab-org" class="tab">
      <div class="card">
        <div class="card-head">
          <h4>조직 업무 보드</h4>
          <div class="right">
            <select id="deptFilter"></select>
            <button id="addTask" class="ghost">업무 추가</button>
            <button id="exportCsv" class="ghost">CSV</button>
          </div>
        </div>
        <div id="taskList" class="list"></div>
        <hr/>
        <h5>구성원</h5>
        <div id="memberList" class="people"></div>
      </div>
    </section>

    <!-- Global Buyer Connect -->
    <section id="tab-buyers" class="tab">
      <div class="card">
        <div class="card-head"><h4>Global Buyer Connect</h4></div>
        <div class="row">
          <label>바이어</label>
          <select id="buyerSelect"></select>
          <span id="buyerInfo" class="muted"></span>
        </div>
        <div class="row wrap">
          <button data-meet="jitsi">Jitsi 링크</button>
          <button data-meet="meet">Google Meet</button>
          <button data-meet="zoom">Zoom</button>
          <button id="openInterpreter">동시통역</button>
        </div>
        <div class="row wrap">
          <button id="makeIcs">ICS 초대장</button>
          <button id="summaryToMemo">회의록 요약→메모</button>
          <button id="createFollowup">후속 액션 생성</button>
        </div>
      </div>
    </section>

    <!-- 설정 -->
    <section id="tab-settings" class="tab">
      <div class="card">
        <div class="card-head"><h4>설정</h4></div>
        <div class="row"><label>화상회의 URL</label><input id="meetUrl" value="https://meet.jit.si/NonsanMayorRoom"/></div>
        <div class="row"><label>Gemini API Key</label><input id="geminiKey" placeholder="로컬 저장 (테스트용)"/></div>
        <div class="row"><label>데이터 마스킹</label><input id="masking" type="checkbox" checked/></div>
        <p class="muted">※ 브라우저 LocalStorage에 임시 저장. 실제 운영에선 서버에 보관하세요.</p>
      </div>
    </section>

  </main>

  <script src="./scripts/app.js"></script>
</body>
</html>
